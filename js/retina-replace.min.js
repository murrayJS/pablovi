!function(e){"use strict";var t=function(t,i){this.options=i;var n=e(t),r=n.is("img"),a=r?n.attr("src"):n.backgroundImageUrl(),o=this.options.generateUrl(n,a);e("<img/>").attr("src",o).load(function(){r?n.attr("src",e(this).attr("src")):(n.backgroundImageUrl(e(this).attr("src")),n.backgroundSize(e(this)[0].width,e(this)[0].height)),n.attr("data-retina","complete")})};t.prototype={constructor:t},e.fn.retinaReplace=function(n){return i()<=1?this:this.each(function(){var i=e(this),r=i.data("retinaReplace"),a=e.extend({},e.fn.retinaReplace.defaults,i.data(),"object"==typeof n&&n);r||i.data("retinaReplace",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.retinaReplace.defaults={suffix:"_2x",generateUrl:function(e,t){var i=t.lastIndexOf("."),n=t.substr(i+1),r=t.substr(0,i);return r+this.suffix+"."+n}},e.fn.retinaReplace.Constructor=t;var i=function(){return void 0===window.devicePixelRatio?1:window.devicePixelRatio};e.fn.backgroundImageUrl=function(t){return t?this.each(function(){e(this).css("background-image",'url("'+t+'")')}):e(this).css("background-image").replace(/url\(|\)|"|'/g,"")},e.fn.backgroundSize=function(t,i){var n=Math.floor(t/2)+"px "+Math.floor(i/2)+"px";e(this).css("background-size",n),e(this).css("-webkit-background-size",n)},e(function(){e("[data-retina='true']").retinaReplace()})}(window.jQuery);